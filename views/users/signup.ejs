<% layout("/layouts/boilerplate") %>

<div class="row signup-login">
  <h1 class="col-8 offset-3 mt-3 mb-3 title">SignUp on WanderLust</h1>
  <div class="col-6 offset-3 body">
    <form action="/signup" method="POST" class="needs-validation" novalidate>
      <div class="mb-3">
        <label for="username" class="form-label mb-0">Username</label>
        <input
          type="text"
          name="username"
          id="username"
          class="form-control"
          required
        />
        <!-- <div class="valid-feedback">Title looks good!</div> -->
        <div class="invalid-feedback">Enter username!</div>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label mb-0">Email</label>
        <input
          type="text"
          name="email"
          id="email"
          class="form-control"
          required
        />
        <!-- <div class="valid-feedback">Title looks good!</div> -->
        <div class="invalid-feedback">Enter email address!</div>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label mb-0">Password</label>
        <div style="position: relative">
          <input
            type="password"
            name="password"
            id="password"
            class="form-control"
            required
          />
          <span
            id="togglePassword"
            style="
              position: absolute;
              right: 12px;
              top: 50%;
              transform: translateY(-50%);
              cursor: pointer;
            "
          >
            <i class="fas fa-eye"></i>
          </span>
        </div>
        <div class="invalid-feedback">Enter Password!</div>
      </div>
      <button class="btn btn-success signup-login-btn">SignUp</button>
      <p class="mt-3">Already have an account? <a href="/login">Login</a></p>
    </form>
  </div>
</div>

<script>
  const togglePassword = document.querySelector("#togglePassword");
  const passwordInput = document.querySelector("#password");
  const eyeIcon = togglePassword.querySelector("i");

  togglePassword.addEventListener("click", function () {
    const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
    passwordInput.setAttribute("type", type);

    eyeIcon.classList.toggle("fa-eye");
    eyeIcon.classList.toggle("fa-eye-slash");
  });
</script>
